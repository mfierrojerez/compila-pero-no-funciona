<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0a4d8c">
    <title>Universidad Ejemplo</title>

    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <!-- NOTA: no añadas aquí los CSS de módulos si usas ensureCss(...) dentro de cada módulo -->
  </head>
  <body>
    <div id="root"></div>

    <!-- React + Babel -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Componentes compartidos (debe ir ANTES de los módulos que los usan) -->
    <script type="text/babel" data-presets="react,env" src="componentes/ui.jsx"></script>

    <!-- App y main (App antes que main) -->
    <script type="text/babel" data-presets="react,env" src="App.jsx"></script>
    <script type="text/babel" data-presets="react,env" src="main.jsx"></script>

    <!-- Bootstrap JS (bundle) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <!-- Módulos -->
    <script type="text/babel" data-presets="react,env" src="modulos/hero/hero.jsx"></script>
    <script type="text/babel" data-presets="react,env" src="modulos/noticias/noticias.jsx"></script>
    <script type="text/babel" data-presets="react,env" src="modulos/staff/staff.jsx"></script>
    <script type="text/babel" data-presets="react,env" src="modulos/carreras/carreras.jsx"></script>
    <script type="text/babel" data-presets="react,env" src="modulos/departamento/departamento.jsx"></script>
    <script type="text/babel" data-presets="react,env" src="modulos/memorias/memorias.jsx"></script>
    <script type="text/babel" data-presets="react,env" src="modulos/proyectos/proyectos.jsx"></script>
    <script type="text/babel" data-presets="react,env" src="modulos/contacto/contacto.jsx"></script>


    <!-- Bootstrapper: monta módulos cuando aparezcan sus contenedores -->
    <script>
      (function(){
        function tryMount(sel, fnName){
          document.querySelectorAll(sel).forEach(el=>{
            if(el.dataset.mounted==="1") return;
            if(typeof window[fnName]==="function"){
              window[fnName](el);
              el.dataset.mounted="1";
            }
          });
        }
        function run(){
          tryMount('[data-noticias-root]', 'mountNoticias');
          tryMount('[data-staff-root]', 'mountStaff');
          tryMount('[data-carreras-root]', 'mountCarreras');
          tryMount('[data-departamento-root]', 'mountDepartamento')
          tryMount('[data-memorias-root]', 'mountMemorias'); 
        }
        document.addEventListener('DOMContentLoaded', run);
        new MutationObserver(run).observe(document.documentElement,{childList:true,subtree:true});
      })();
    </script>
  </body>
</html>






